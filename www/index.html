<!DOCTYPE html>
<html>
   <head>
      <title>Todo</title>
      <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
      <link rel="stylesheet" type="text/css" href="lib/ionic/css/ionic.css">
      <script type="text/javascript" src="lib/ionic/js/ionic.bundle.js"></script>
      <script type="text/javascript" src="js/app.js"></script>
      <script type="text/javascript" src="cordova.js"></script>
   </head>
   <body ng-app="todo" ng-controller="TodoCtrl">
      <ion-side-menus>
      <!-- center component -->
         <!-- <ion-side-menu-content>   //this is the one where the created lists cannot be deleted
            <ion-header-bar class="bar-royal">
               <h1 class="title">Todo</h1>
               <!-- New task button --
               <button class = "button button-icon" ng-click="newTask()">
                  <i class = "icon ion-compose"></i>
               </button>
            </ion-header-bar>

            <ion-content>
               <!-- list and list items --
               <ion-list>
                  <ion-item ng-repeat="task in tasks">
                     {{task.title}}
                  </ion-item>
               </ion-lits>
            </ion-content>
         </ion-side-menu-content>

      <!-- left menu 
         <ion-side-menu side="left">
            <ion-header-bar class="bar-dark">
               <h1 class="title">Projects</h1>
            </ion-header-bar>
         </ion-side-menu> -->

         <!-- Center content -->
<ion-side-menu-content>
  <ion-header-bar class="bar-royal">
    <button class="button button-icon" ng-click="toggleProjects()">
      <i class="icon ion-navicon"></i>
    </button>
    <h1 class="title">{{activeProject.title}}</h1>
    <!-- New Task button-->
    <button class="button button-icon" ng-click="newTask()">
      <i class="icon ion-compose"></i>
    </button>
  </ion-header-bar>
  <ion-content scroll="false">
    <ion-list>
      <ion-item ng-repeat="task in activeProject.tasks" class="item-button-right">
        {{task.title}}
          <button class = "button item-button-right" ng-click = "deleteNewTask(task, $index)"><i class = "icon ion-minus-circled"></i></button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-side-menu-content>



         <!-- Left menu -->
  <ion-side-menu side="left">
    <ion-header-bar class="bar-dark">
      <h1 class="title">Projects</h1>
      <button class="button button-icon ion-plus" ng-click="newProject()">
      </button>
    </ion-header-bar>
    <ion-content scroll="false">
      <ion-list>
        <ion-item ng-repeat="project in projects" class = "item-button-right" ng-click="selectProject(project, $index)" ng-class="{active: activeProject == project}">
          {{project.title}}
          <button class="button button-icon ion-minus-circled" ng-click="deleteProject(project, $index)"></button>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-side-menu>

        <!-- this is the content where the user can add a task or add description to a task -->
         <script id = "new-task.html" type="text/ng-template">
            <div class = "modal">

               <!-- Modal Header bar --
               <ion-header-bar class="bar-secondary">
                  <h1 class="title">New Task</h1>
                  <button class="button button-clear button-positive" ng-click="closeNewTask()">Cancel</button>
               </ion-header-bar>

               <!-- Modal content area -->
               <ion-content>
                  <form ng-submit="createTask(task)">
                     <div class="list">
                        <label class="item item-input">
                           <input type="text" placeholder="What do you need to doo?" ng-model="task.title">
                        </label>
                     </div>
                     <div class="padding">
                        <button type="submit" class="button button-block button-positive">Create Task</button>
                     </div>
                  </form>
               </ion-content>
            </div>
         </script>
      </ion-side-menus>
   </body>
</html>
